{"version":3,"sources":["images/memoriesLogo.png","images/memoriesText.png","reducers/auth.js","constants/actionTypes.js","reducers/index.js","reducers/posts.js","components/Navbar/styles.js","components/Navbar/Navbar.js","api/index.js","actions/posts.js","components/Posts/Post/styles.js","components/Posts/Post/Post.js","components/Posts/styles.js","components/Posts/Posts.js","components/Form/styles.js","components/Form/Form.js","components/styles.js","components/Pagination.jsx","components/Home/styles.js","components/Home/Home.js","actions/auth.js","components/Auth/Input.js","components/Auth/styles.js","components/Auth/Auth.js","components/PostDetails/styles.js","components/PostDetails/CommentSection.jsx","components/PostDetails/PostDetails.jsx","App.js","index.js"],"names":["module","exports","authReducer","state","authData","action","type","localStorage","setItem","JSON","stringify","data","clear","reducers","combineReducers","posts","isLoading","payload","currentPage","numberOfPages","post","map","_id","filter","auth","makeStyles","theme","appBar","borderRadius","margin","display","flexDirection","justifyContent","alignItems","padding","breakpoints","down","heading","color","palette","primary","main","textDecoration","fontSize","fontWeight","image","marginLeft","marginTop","toolbar","width","profile","logout","userName","textAlign","brandContainer","purple","getContrastText","deepPurple","backgroundColor","Navbar","dispatch","useDispatch","history","useHistory","location","useLocation","classes","useStyles","useState","parse","getItem","user","setUser","console","log","useEffect","token","decode","exp","Date","getTime","push","AppBar","className","position","to","src","memoriesText","alt","height","memoriesLogo","Toolbar","Avatar","name","imageUrl","String","charAt","Typography","variant","Button","onClick","component","Link","API","axios","create","baseURL","interceptors","request","use","req","headers","Authorization","fetchPost","id","get","fetchPosts","page","fetchPostsBySearch","searchQuery","search","tags","updatePost","updatedPost","patch","deletePost","delete","likePost","comment","value","signIn","formData","signUp","getPostBySearch","api","createPost","newPost","commentPost","comments","media","paddingTop","backgroundBlendMode","border","fullHeightCard","card","overlay","top","left","overlay2","right","grid","details","title","cardActions","cardAction","i","Post","setCurrentId","likes","setLikes","userId","result","googleId","hasCurrentUserLiked","find","like","handleLikeClick","Likes","length","Card","raised","elevation","ButtonBase","CardMedia","selectedFile","moment","createdAt","fromNow","creator","e","stopPropagation","style","size","tag","gutterBottom","CardContent","message","split","splice","join","CardActions","disabled","mainContainer","smMargin","spacing","actionDiv","Posts","useSelector","CircularProgress","Grid","container","key","item","xs","sm","md","lg","root","paper","form","flexWrap","fileInput","buttonSubmit","marginBottom","Form","currentId","postData","setPostData","p","handleSubmit","preventDefault","Paper","autoComplete","noValidate","onSubmit","TextField","label","fullWidth","onChange","target","multiptle","onDone","base64","align","ul","Paginate","getPosts","Pagination","count","Number","renderItem","PaginationItem","appBarSearch","pagination","gridContainer","Home","setSearch","setTags","query","URLSearchParams","searchPost","trim","Grow","in","Container","maxWidth","onKeyPress","keyCode","onAdd","onDelete","tagToDelete","searchButton","Input","handleChange","half","autoFocus","handleShowPassword","required","InputProps","endAdornment","InputAdornment","IconButton","avatar","secondary","submit","googleButton","initialFormState","firstName","lastName","email","password","confirmPassword","Auth","showPassword","setShowPassword","isSignup","setIsSignup","setFormData","googleSuccess","res","jwt_decode","credential","picture","sub","_type","error","signup","signin","onSuccess","onError","prevIsSignup","objectFit","maxHeight","section","flex","imageSection","recommendedPosts","loadingPaper","commentsOuterContainer","commentsInnerContainer","overflowY","marginRight","CommentSection","commentsRef","useRef","setComments","setComment","handleClick","finalComment","newComments","current","scrollIntoView","behavior","c","ref","minRows","multiline","PostDetails","useParams","getPost","recommenedPosts","Divider","margine","cursor","openPost","App","clientId","path","exact","store","createStore","compose","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.815a4d0c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/memoriesLogo.dc8bbfe3.png\";","module.exports = __webpack_public_path__ + \"static/media/memoriesText.2b89c5fa.png\";","import { AUTH, LOGOUT } from \"../constants/actionTypes\";\r\n\r\nconst authReducer = (state = { authData: null }, action) => {\r\n  switch (action.type) {\r\n    case AUTH:\r\n      localStorage.setItem(\"profile\", JSON.stringify({ ...action?.data }));\r\n      return { ...state, authData: action?.data };\r\n    case LOGOUT:\r\n      localStorage.clear();\r\n      return { ...state, authData: null };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","export const CREATE = \"CREATE\";\r\nexport const UPDATE = \"UPDATE\";\r\nexport const DELETE = \"DELETE\";\r\nexport const FETCH_ALL = \"FETCH_ALL\";\r\nexport const FETCH_POST = \"FETCH_POST\";\r\nexport const FETCH_BY_SEARCH = \"FETCH_BY_SEARCH\";\r\nexport const LIKE = \"LIKE\";\r\nexport const COMMENT = \"COMMENT\";\r\n\r\nexport const AUTH = \"AUTH\";\r\nexport const LOGOUT = \"LOGOUT\";\r\n\r\nexport const START_LOADING = \"START_LOADING\";\r\nexport const END_LOADING = \"END_LOADING\";\r\n","import { combineReducers } from \"redux\";\r\n\r\nimport posts from \"./posts\";\r\nimport auth from \"./auth\";\r\n\r\n// export default combineReducers({\r\n//   posts: posts,\r\n// });\r\nexport const reducers = combineReducers({ posts, auth });\r\n","import {\r\n  CREATE,\r\n  DELETE,\r\n  UPDATE,\r\n  LIKE,\r\n  COMMENT,\r\n  FETCH_ALL,\r\n  FETCH_POST,\r\n  FETCH_BY_SEARCH,\r\n  START_LOADING,\r\n  END_LOADING,\r\n} from \"../constants/actionTypes\";\r\n\r\nexport default (state = { isLoading: true, posts: [] }, action) => {\r\n  switch (action.type) {\r\n    case START_LOADING:\r\n      return { ...state, isLoading: true };\r\n    case END_LOADING:\r\n      return { ...state, isLoading: false };\r\n    case FETCH_ALL:\r\n      return {\r\n        ...state,\r\n        posts: action.payload.data,\r\n        currentPage: action.payload.currentPage,\r\n        numberOfPages: action.payload.numberOfPages,\r\n      };\r\n    case FETCH_BY_SEARCH:\r\n      return {\r\n        ...state,\r\n        posts: action.payload,\r\n      };\r\n    case FETCH_POST:\r\n      return {\r\n        ...state,\r\n        post: action.payload,\r\n      };\r\n    case CREATE:\r\n      // add new post obj to existing array\r\n      return { ...state, posts: [...state.posts, action.payload] };\r\n    case UPDATE:\r\n    case LIKE:\r\n      // action.payload mean updated post\r\n      return {\r\n        ...state,\r\n        posts: state.posts.map((post) =>\r\n          post._id === action.payload._id ? action.payload : post\r\n        ),\r\n      };\r\n    case COMMENT:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.map((post) => {\r\n          // change the post that just received a comment\r\n          if (post._id === action.payload._id) return action.payload;\r\n          // return all the other posts normally...\r\n          return post;\r\n        }),\r\n      };\r\n    case DELETE:\r\n      // keep all the post except the one where the id is equal to action.payload\r\n      // in actions we set the payload as id (payload:id)\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter((post) => post._id !== action.payload),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\nimport { deepPurple } from \"@material-ui/core/colors\";\r\n\r\nexport default makeStyles((theme) => ({\r\n  appBar: {\r\n    borderRadius: 15,\r\n    margin: \"30px 0\",\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    padding: \"10px 50px\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n  heading: {\r\n    color: theme.palette.primary.main,\r\n    textDecoration: \"none\",\r\n    fontSize: \"2em\",\r\n    fontWeight: 300,\r\n  },\r\n  image: {\r\n    marginLeft: \"10px\",\r\n    marginTop: \"5px\",\r\n  },\r\n  toolbar: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n    width: \"400px\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"auto\",\r\n    },\r\n  },\r\n  profile: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    width: \"400px\",\r\n    alignItems: \"center\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"auto\",\r\n      marginTop: 20,\r\n      justifyContent: \"center\",\r\n    },\r\n  },\r\n  logout: {\r\n    marginLeft: \"20px\",\r\n  },\r\n  userName: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    textAlign: \"center\",\r\n  },\r\n  brandContainer: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  purple: {\r\n    color: theme.palette.getContrastText(deepPurple[500]),\r\n    backgroundColor: deepPurple[500],\r\n  },\r\n}));\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { AppBar, Avatar, Button, Toolbar, Typography } from \"@material-ui/core\";\r\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport decode from \"jwt-decode\";\r\n\r\nimport useStyles from \"./styles\";\r\nimport memoriesLogo from \"../../images/memoriesLogo.png\";\r\nimport memoriesText from \"../../images/memoriesText.png\";\r\nimport { LOGOUT } from \"../../constants/actionTypes\";\r\n\r\nconst Navbar = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const classes = useStyles();\r\n\r\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem(\"profile\")));\r\n  console.log(\"=====nav bar user\");\r\n  console.log(user);\r\n  // ***\r\n  // Once user login we need to refresh borwser in order to see the changes, thus\r\n  // we can utilize useEffect(). so we can fire useEffect function as sonn as our url change. / to /auth\r\n  //\r\n  // useEffect(callBackfunction(), variable looking for the changes)\r\n  // once that vaiable change/modify callBackFunction will fire.\r\n  useEffect(() => {\r\n    const userId = user?._id;\r\n    const token = user?.token;\r\n    // Logout the user automatically if token expire due to in-activity.\r\n    // we have set the expire time as 1h in the server.\r\n    if (token) {\r\n      const decodedToken = decode(token);\r\n      if (decodedToken.exp * 1000 < new Date().getTime()) logout();\r\n    }\r\n\r\n    setUser(JSON.parse(localStorage.getItem(\"profile\")));\r\n  }, [location]);\r\n\r\n  const logout = () => {\r\n    dispatch({ type: LOGOUT });\r\n    history.push(\"/\");\r\n    setUser(null);\r\n  };\r\n\r\n  return (\r\n    <AppBar className={classes.appBar} position=\"static\" color=\"inherit\">\r\n      <Link to=\"/\" className={classes.brandContainer}>\r\n        <img src={memoriesText} alt=\"icon\" height=\"45px\" />\r\n        <img\r\n          className={classes.image}\r\n          src={memoriesLogo}\r\n          alt=\"icon\"\r\n          height=\"40\"\r\n        />\r\n      </Link>\r\n      <Toolbar className={classes.toolbar}>\r\n        {user ? (\r\n          <div className={classes.profile}>\r\n            <Avatar\r\n              className={classes.purple}\r\n              alt={user.name}\r\n              src={user.imageUrl}\r\n            >\r\n              {String(user.name).charAt(0)}\r\n            </Avatar>\r\n            <Typography className={classes.userName} variant=\"h6\">\r\n              {user.name}\r\n            </Typography>\r\n            <Button\r\n              variant=\"contained\"\r\n              className={classes.logout}\r\n              color=\"secondary\"\r\n              onClick={logout}\r\n            >\r\n              Logout\r\n            </Button>\r\n          </div>\r\n        ) : (\r\n          <Button\r\n            component={Link}\r\n            to=\"/auth\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            Sign In\r\n          </Button>\r\n        )}\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\nexport default Navbar;\r\n","import axios from \"axios\";\r\n\r\nconst API = axios.create({ baseURL: \"https://puce-misty-gorilla.cyclic.app/\" });\r\n\r\nAPI.interceptors.request.use((req) => {\r\n  if (localStorage.getItem(\"profile\")) {\r\n    req.headers.Authorization = `Bearer ${\r\n      JSON.parse(localStorage.getItem(\"profile\")).token\r\n    }`;\r\n  }\r\n  return req;\r\n});\r\n\r\n// POST :::::::::::::::::::::::::::::::::::::\r\nexport const fetchPost = (id) => API.get(`/posts/${id}`);\r\n\r\nexport const fetchPosts = (page) => API.get(`/posts?page=${page}`);\r\n\r\nexport const fetchPostsBySearch = (searchQuery) =>\r\n  API.get(\r\n    `/posts/search?searchQuery=${searchQuery.search || \"none\"}&tags=${\r\n      searchQuery.tags\r\n    }`\r\n  );\r\n\r\nexport const createPost = (newPost) => API.post(\"/posts\", newPost);\r\nexport const updatePost = (id, updatedPost) =>\r\n  API.patch(`/posts/${id}`, updatedPost);\r\n\r\nexport const deletePost = (id) => API.delete(`/posts/${id}`);\r\nexport const likePost = (id) => API.patch(`/posts/${id}/likePost`);\r\nexport const comment = (value, id) =>\r\n  API.post(`/posts/${id}/commentPost`, { value });\r\n\r\n// AUTH :::::::::::::::::::::::::::::::::::::\r\nexport const signIn = (formData) => API.post(`/user/signin`, formData);\r\nexport const signUp = (formData) => API.post(`/user/signup`, formData);\r\n","import {\r\n  CREATE,\r\n  DELETE,\r\n  UPDATE,\r\n  LIKE,\r\n  COMMENT,\r\n  FETCH_ALL,\r\n  FETCH_POST,\r\n  FETCH_BY_SEARCH,\r\n  START_LOADING,\r\n  END_LOADING,\r\n} from \"../constants/actionTypes\";\r\nimport * as api from \"../api\";\r\n\r\n// Action creators (fuctions that return actions)\r\n\r\nexport const getPost = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: START_LOADING });\r\n\r\n    const { data } = await api.fetchPost(id);\r\n    /**\r\n         *  const action = { type: \"FETCH_ALL\", payload: [] };\r\n               // Instead of return the actiosn we dispatch the action as belows.\r\n                dispatch(action);\r\n         */\r\n    // Sending response data as a payload to Reducers:\r\n    dispatch({ type: FETCH_POST, payload: data });\r\n    dispatch({ type: END_LOADING });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const getPosts = (page) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: START_LOADING });\r\n\r\n    const { data } = await api.fetchPosts(page);\r\n    /**\r\n         *  const action = { type: \"FETCH_ALL\", payload: [] };\r\n               // Instead of return the actiosn we dispatch the action as belows.\r\n                dispatch(action);\r\n         */\r\n    // Sending response data as a payload to Reducers:\r\n    dispatch({ type: FETCH_ALL, payload: data });\r\n    dispatch({ type: END_LOADING });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const getPostBySearch = (searchQuery) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: START_LOADING });\r\n    const {\r\n      data: { data },\r\n    } = await api.fetchPostsBySearch(searchQuery);\r\n\r\n    // Sending response data as a payload to Reducers:\r\n    dispatch({ type: FETCH_BY_SEARCH, payload: data });\r\n    dispatch({ type: END_LOADING });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const createPost = (post, history) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: START_LOADING });\r\n    const { data } = await api.createPost(post);\r\n    // Sending response data as a payload to Reducers:\r\n    dispatch({ type: CREATE, payload: data });\r\n    dispatch({ type: END_LOADING });\r\n    history.push(`/posts/${data._id}`);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const updatePost = (id, post) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.updatePost(id, post);\r\n    // Sending response data as a payload to Reducers:\r\n    dispatch({ type: UPDATE, payload: data });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const deletePost = (id) => async (dispatch) => {\r\n  try {\r\n    await api.deletePost(id);\r\n    dispatch({ type: DELETE, payload: id });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const likePost = (id) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.likePost(id);\r\n    // Sending response data as a payload to Reducers:\r\n    dispatch({ type: LIKE, payload: data });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const commentPost = (value, id) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.comment(value, id);\r\n\r\n    dispatch({ type: COMMENT, payload: data });\r\n    return data.comments;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles({\r\n  media: {\r\n    height: 0,\r\n    paddingTop: \"56.25%\",\r\n    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\r\n    backgroundBlendMode: \"darken\",\r\n  },\r\n  border: {\r\n    border: \"solid\",\r\n  },\r\n  fullHeightCard: {\r\n    height: \"100%\",\r\n  },\r\n  card: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"space-between\",\r\n    borderRadius: \"15px\",\r\n    height: \"100%\",\r\n    position: \"relative\",\r\n  },\r\n  overlay: {\r\n    position: \"absolute\",\r\n    top: \"20px\",\r\n    left: \"20px\",\r\n    color: \"white\",\r\n  },\r\n  overlay2: {\r\n    position: \"absolute\",\r\n    top: \"20px\",\r\n    right: \"20px\",\r\n    color: \"white\",\r\n  },\r\n  grid: {\r\n    display: \"flex\",\r\n  },\r\n  details: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    margin: \"20px\",\r\n  },\r\n  title: {\r\n    padding: \"0 16px\",\r\n  },\r\n  cardActions: {\r\n    padding: \"0 16px 8px 16px\",\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n  cardAction: {\r\n    display: \"block\",\r\n    textAlign: \"initial\",\r\n  },\r\n});\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Card,\r\n  CardActions,\r\n  CardContent,\r\n  CardMedia,\r\n  Button,\r\n  Typography,\r\n  ButtonBase,\r\n} from \"@material-ui/core\";\r\nimport ThumbUpAltIcon from \"@material-ui/icons/ThumbUpAlt\";\r\nimport ThumbUpAltOutlined from \"@material-ui/icons/ThumbUpAltOutlined\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport MoreHorizIcon from \"@material-ui/icons/MoreHoriz\";\r\nimport moment from \"moment\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { deletePost, likePost } from \"../../../actions/posts\";\r\nimport useStyles from \"./styles\";\r\n\r\nconst Post = ({ post, setCurrentId }) => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const user = JSON.parse(localStorage.getItem(\"profile\"));\r\n  const history = useHistory();\r\n  const [likes, setLikes] = useState(post?.likes);\r\n\r\n  const userId = user?.result?.googleId || user?._id;\r\n  const hasCurrentUserLiked = likes.find((like) => like === userId);\r\n\r\n  const openPost = () => history.push(`/posts/${post._id}`);\r\n\r\n  const handleLikeClick = async () => {\r\n    dispatch(likePost(post._id));\r\n\r\n    if (hasCurrentUserLiked) {\r\n      //unlike\r\n      setLikes(post.likes.filter((id) => id !== userId));\r\n    } else {\r\n      //do like\r\n      setLikes([...post.likes, userId]);\r\n    }\r\n  };\r\n\r\n  // likes.find((like) => like === (user?.result?.googleId || user?.result?._id))\r\n  const Likes = () => {\r\n    if (likes.length > 0) {\r\n      return likes.find((like) => like === userId) ? (\r\n        <>\r\n          <ThumbUpAltIcon fontSize=\"small\" />\r\n          &nbsp;\r\n          {likes.length > 2\r\n            ? `You and ${likes.length - 1} others`\r\n            : `${likes.length} like${likes.length > 1 ? \"s\" : \"\"}`}\r\n        </>\r\n      ) : (\r\n        <>\r\n          <ThumbUpAltOutlined fontSize=\"small\" />\r\n          &nbsp;{likes.length} {likes.length === 1 ? \"Like\" : \"Likes\"}\r\n        </>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <ThumbUpAltOutlined fontSize=\"small\" />\r\n        &nbsp;Like\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Card className={classes.card} raised elevation={6}>\r\n      <ButtonBase\r\n        component=\"span\"\r\n        name=\"test\"\r\n        className={classes.cardAction}\r\n        onClick={openPost}\r\n      >\r\n        <CardMedia\r\n          className={classes.media}\r\n          image={post.selectedFile}\r\n          title={post.title}\r\n        />\r\n        <div className={classes.overlay}>\r\n          <Typography variant=\"h6\">{post.name}</Typography>\r\n          <Typography variant=\"body2\">\r\n            {moment(post.createdAt).fromNow()}\r\n          </Typography>\r\n        </div>\r\n        {(user?.result?.googleId === post?.creator ||\r\n          user?._id === post?.creator) && (\r\n          <div className={classes.overlay2} name=\"edit\">\r\n            <Button\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                setCurrentId(post._id);\r\n              }}\r\n              style={{ color: \"white\" }}\r\n              size=\"small\"\r\n            >\r\n              <MoreHorizIcon fontSize=\"medium\" />\r\n            </Button>\r\n          </div>\r\n        )}\r\n        <div className={classes.details}>\r\n          <Typography variant=\"body2\" color=\"textSecondary\">\r\n            {post.tags.map((tag) => `#${tag} `)}\r\n          </Typography>\r\n        </div>\r\n        <Typography className={classes.title} variant=\"h5\" gutterBottom>\r\n          {post.title}\r\n        </Typography>\r\n        <CardContent>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {post.message.split(\" \").splice(0, 20).join(\" \")}...\r\n          </Typography>\r\n        </CardContent>\r\n      </ButtonBase>\r\n      <CardActions className={classes.cardActions}>\r\n        <Button\r\n          size=\"small\"\r\n          color=\"primary\"\r\n          onClick={handleLikeClick}\r\n          disabled={!user}\r\n        >\r\n          <Likes />\r\n        </Button>\r\n        {(user?.result?.googleId === post?.creator ||\r\n          user?._id === post?.creator) && (\r\n          <Button\r\n            size=\"small\"\r\n            color=\"secondary\"\r\n            onClick={() => dispatch(deletePost(post._id))}\r\n          >\r\n            <DeleteIcon fontSize=\"small\" />\r\n            Delete\r\n          </Button>\r\n        )}\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n  mainContainer: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  smMargin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  actionDiv: {\r\n    textAlign: \"center\",\r\n  },\r\n}));\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Grid, CircularProgress } from \"@material-ui/core\";\r\n\r\nimport Post from \"./Post/Post\";\r\nimport useStyles from \"./styles\";\r\n\r\nconst Posts = ({ setCurrentId }) => {\r\n  // use selector is used to get access to redux store\r\n  // from reducers index.js we have posts: posts, we can access by key as belows.\r\n  // in below we have return globalReduxStore.posts  (state indicate globalReduxStore)\r\n  const { posts, isLoading } = useSelector((state) => state.posts);\r\n  const classes = useStyles();\r\n\r\n  // !posts.length ?   Means=> posts.length ==0\r\n  // xs={12} (extra small displays (Phones))  sm={6} (small and medium displays)\r\n\r\n  if (!posts.length && !isLoading) return \"No Posts\";\r\n\r\n  return isLoading ? (\r\n    <CircularProgress />\r\n  ) : (\r\n    <Grid\r\n      className={classes.mainContainer}\r\n      container\r\n      alignItems=\"stretch\"\r\n      spacing={3}\r\n    >\r\n      {posts.map((post) => (\r\n        <Grid key={post._id} item xs={12} sm={12} md={6} lg={3}>\r\n          <Post post={post} setCurrentId={setCurrentId} />\r\n        </Grid>\r\n      ))}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Posts;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n  root: {\r\n    \"& .MuiTextField-root\": {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  form: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    justifyContent: \"center\",\r\n  },\r\n  fileInput: {\r\n    width: \"97%\",\r\n    margin: \"10px 0\",\r\n  },\r\n  buttonSubmit: {\r\n    marginBottom: 10,\r\n  },\r\n}));\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { TextField, Button, Typography, Paper } from \"@material-ui/core\";\r\nimport FileBase from \"react-file-base64\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { createPost, updatePost } from \"../../actions/posts\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport useStyles from \"./styles\";\r\n\r\nconst Form = ({ currentId, setCurrentId }) => {\r\n  const history = useHistory();\r\n\r\n  const [postData, setPostData] = useState({\r\n    title: \"\",\r\n    message: \"\",\r\n    tags: \"\",\r\n    selectedFile: \"\",\r\n  });\r\n\r\n  const user = JSON.parse(localStorage.getItem(\"profile\"));\r\n\r\n  //Find Selected post from redux store\r\n  const post = useSelector((state) =>\r\n    currentId ? state.posts.posts.find((p) => p._id === currentId) : null\r\n  );\r\n\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n\r\n  //useEffect(param1, param2)\r\n  //   param1 = callback function\r\n  //   param2 = dependancy array\r\n  useEffect(() => {\r\n    if (post) setPostData(post);\r\n  }, [post]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (currentId === 0) {\r\n      dispatch(createPost({ ...postData, name: user?.name }, history));\r\n    } else {\r\n      dispatch(updatePost(currentId, { ...postData, name: user?.name }));\r\n    }\r\n    clear();\r\n  };\r\n\r\n  const clear = () => {\r\n    setCurrentId(null);\r\n    setPostData({\r\n      title: \"\",\r\n      message: \"\",\r\n      tags: \"\",\r\n      selectedFile: \"\",\r\n    });\r\n  };\r\n\r\n  if (!user?.name) {\r\n    return (\r\n      <Paper className={classes.paper}>\r\n        <Typography variant=\"h6\" align=\"center\">\r\n          Please Sign In to create your own memories.\r\n        </Typography>\r\n      </Paper>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Paper className={classes.paper} elevation={6}>\r\n      <form\r\n        autoComplete=\"off\"\r\n        noValidate\r\n        className={`${classes.root} ${classes.form}`}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <Typography variant=\"h6\">\r\n          {currentId ? \"Editing\" : \"Creating\"} a Memory\r\n        </Typography>\r\n        <TextField\r\n          name=\"title\"\r\n          variant=\"outlined\"\r\n          label=\"Title\"\r\n          fullWidth\r\n          value={postData.title}\r\n          onChange={(e) => setPostData({ ...postData, title: e.target.value })}\r\n        />\r\n        <TextField\r\n          name=\"message\"\r\n          variant=\"outlined\"\r\n          label=\"Message\"\r\n          fullWidth\r\n          value={postData.message}\r\n          onChange={(e) =>\r\n            setPostData({ ...postData, message: e.target.value })\r\n          }\r\n        />\r\n        <TextField\r\n          name=\"tags\"\r\n          variant=\"outlined\"\r\n          label=\"Tags\"\r\n          fullWidth\r\n          value={postData.tags}\r\n          onChange={(e) =>\r\n            setPostData({ ...postData, tags: e.target.value.split(\",\") })\r\n          }\r\n        />\r\n        <div className={classes.fileInput}>\r\n          <FileBase\r\n            type=\"file\"\r\n            multiptle={false}\r\n            onDone={({ base64 }) =>\r\n              setPostData({ ...postData, selectedFile: base64 })\r\n            }\r\n          />\r\n        </div>\r\n        <Button\r\n          className={classes.buttonSubmit}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          size=\"large\"\r\n          type=\"submit\"\r\n          fullWidth\r\n        >\r\n          Submit\r\n        </Button>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          size=\"small\"\r\n          onClick={clear}\r\n          fullWidth\r\n        >\r\n          Clear\r\n        </Button>\r\n      </form>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles(() => ({\r\n  ul: {\r\n    justifyContent: \"space-around\",\r\n  },\r\n}));\r\n","import React, { useEffect } from \"react\";\r\nimport { Pagination, PaginationItem } from \"@material-ui/lab\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { getPosts } from \"../actions/posts\";\r\nimport useStyles from \"./styles\";\r\n\r\nconst Paginate = ({ page }) => {\r\n  const { numberOfPages } = useSelector((state) => state.posts);\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (page) dispatch(getPosts(page));\r\n  }, [page]);\r\n\r\n  return (\r\n    <Pagination\r\n      classes={{ ul: classes.ul }}\r\n      count={numberOfPages}\r\n      page={Number(page) || 1}\r\n      variant=\"outlined\"\r\n      color=\"primary\"\r\n      renderItem={(item) => (\r\n        <PaginationItem\r\n          {...item}\r\n          component={Link}\r\n          to={`/posts?page=${item.page}`}\r\n        />\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Paginate;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n  appBarSearch: {\r\n    borderRadius: 4,\r\n    marginBottom: \"1rem\",\r\n    display: \"flex\",\r\n    padding: \"16px\",\r\n  },\r\n  pagination: {\r\n    borderRadius: 4,\r\n    marginTop: \"1rem\",\r\n    padding: \"16px\",\r\n  },\r\n  gridContainer: {\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      flexDirection: \"column-reverse\",\r\n    },\r\n  },\r\n}));\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Container,\r\n  Grow,\r\n  Grid,\r\n  Paper,\r\n  AppBar,\r\n  TextField,\r\n  Button,\r\n} from \"@material-ui/core\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport ChipInput from \"material-ui-chip-input\";\r\n\r\nimport { useDispatch } from \"react-redux\";\r\nimport Posts from \"../Posts/Posts\";\r\nimport Form from \"../Form/Form\";\r\nimport Pagination from \"../Pagination\";\r\nimport { getPosts, getPostBySearch } from \"../../actions/posts\";\r\nimport useStyles from \"./styles\";\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nconst Home = () => {\r\n  const [currentId, setCurrentId] = useState(0);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [tags, setTags] = useState([]);\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch(); // to dispatch the actions\r\n  const query = useQuery();\r\n  const history = useHistory();\r\n  const page = query.get(\"page\") || 1;\r\n  const searchQuery = query.get(\"searchQuery\");\r\n\r\n  //useEffect(param1, param2)\r\n  //   param1 = callback function\r\n  //   param2 = dependancy array\r\n  // useEffect(() => {\r\n  //   dispatch(getPosts());\r\n  // }, [currentId, dispatch]);\r\n\r\n  const searchPost = () => {\r\n    if (search.trim() || tags.length > 0) {\r\n      dispatch(getPostBySearch({ search, tags: tags.join(\",\") }));\r\n      history.push(\r\n        `/posts/search?searchQuery=${search || \"none\"}&tags=${tags.join(\",\")}`\r\n      );\r\n    } else {\r\n      history.push(\"/\");\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.keyCode === 13) {\r\n      // search post when press Enter\r\n      searchPost();\r\n    }\r\n  };\r\n\r\n  const handleAdd = (tag) => setTags([...tags, tag]);\r\n  const handleDelete = (tagToDelete) =>\r\n    setTags(tags.filter((tag) => tag !== tagToDelete));\r\n\r\n  return (\r\n    <Grow in>\r\n      <Container maxWidth=\"xl\">\r\n        <Grid\r\n          className={classes.gridContainer}\r\n          container\r\n          justifyContent=\"space-between\"\r\n          alignItems=\"stretch\"\r\n          spacing={3}\r\n        >\r\n          <Grid item xs={12} sm={6} md={9}>\r\n            <Posts setCurrentId={setCurrentId} />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6} md={3}>\r\n            <AppBar\r\n              className={classes.appBarSearch}\r\n              position=\"static\"\r\n              color=\"inherit\"\r\n            >\r\n              <TextField\r\n                name=\"search\"\r\n                variant=\"outlined\"\r\n                label=\"Search Memories\"\r\n                fullWidth\r\n                value={search}\r\n                onChange={(e) => setSearch(e.target.value)}\r\n                onKeyPress={handleKeyPress}\r\n              />\r\n              <ChipInput\r\n                style={{ margin: \"10px 0\" }}\r\n                value={tags}\r\n                label=\"Search Tags\"\r\n                variant=\"outlined\"\r\n                onAdd={handleAdd}\r\n                onDelete={handleDelete}\r\n              />\r\n              <Button\r\n                onClick={searchPost}\r\n                className={classes.searchButton}\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n              >\r\n                Search\r\n              </Button>\r\n            </AppBar>\r\n            <Form currentId={currentId} setCurrentId={setCurrentId} />\r\n            {!searchQuery && !tags.length && (\r\n              <Paper elevation={6} className={classes.pagination}>\r\n                <Pagination page={page} />\r\n              </Paper>\r\n            )}\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </Grow>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { AUTH } from \"../constants/actionTypes\";\r\nimport * as api from \"../api\";\r\n\r\nexport const signin = (formData, history) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.signIn(formData);\r\n    console.log(data.result);\r\n    const user = {\r\n      _id: data.result._id,\r\n      _type: \"user\",\r\n      name: data.result.name,\r\n      imageUrl: \"\",\r\n      token: data.token,\r\n    };\r\n    // TODO: store entier Token without decript\r\n    // and then decript it when use\r\n    dispatch({ type: AUTH, data: user });\r\n\r\n    history.push(\"/\");\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\nexport const signup = (formData, history) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.signUp(formData);\r\n    dispatch({ type: AUTH, data });\r\n\r\n    history.push(\"/\");\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { TextField, Grid, InputAdornment, IconButton } from \"@material-ui/core\";\r\n\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\n\r\nconst Input = ({\r\n  name,\r\n  handleChange,\r\n  label,\r\n  half,\r\n  autoFocus,\r\n  type,\r\n  handleShowPassword,\r\n}) => (\r\n  <Grid item xs={12} sm={half ? 6 : 12}>\r\n    <TextField\r\n      name={name}\r\n      onChange={handleChange}\r\n      variant=\"outlined\"\r\n      required\r\n      fullWidth\r\n      label={label}\r\n      autoFocus={autoFocus}\r\n      type={type}\r\n      InputProps={\r\n        name === \"password\"\r\n          ? {\r\n              endAdornment: (\r\n                <InputAdornment position=\"end\">\r\n                  <IconButton onClick={handleShowPassword}>\r\n                    {type === \"password\" ? <Visibility /> : <VisibilityOff />}\r\n                  </IconButton>\r\n                </InputAdornment>\r\n              ),\r\n            }\r\n          : null\r\n      }\r\n    />\r\n  </Grid>\r\n);\r\n\r\nexport default Input;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    padding: theme.spacing(2),\r\n  },\r\n  root: {\r\n    \"& .MuiTextField-root\": {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  googleButton: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n}));\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  Paper,\r\n  Grid,\r\n  Typography,\r\n  Container,\r\n} from \"@material-ui/core\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport { GoogleLogin, googleLogout } from \"@react-oauth/google\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nimport { signin, signup } from \"../../actions/auth\";\r\nimport Input from \"./Input\";\r\nimport Icon from \"./icon\";\r\nimport useStyles from \"./styles\";\r\nimport { AUTH } from \"../../constants/actionTypes\";\r\n\r\nconst initialFormState = {\r\n  firstName: \"\",\r\n  lastName: \"\",\r\n  email: \"\",\r\n  password: \"\",\r\n  confirmPassword: \"\",\r\n};\r\n\r\nconst Auth = () => {\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [isSignup, setIsSignup] = useState(false);\r\n  const [formData, setFormData] = useState(initialFormState);\r\n\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // console.log(formData);\r\n    if (isSignup) {\r\n      // signup\r\n      // we pass the history also that use to navigate after signIn or signUp\r\n      dispatch(signup(formData, history));\r\n    } else {\r\n      //signin\r\n      dispatch(signin(formData, history));\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    // update formData element only changes happened.\r\n    // we use spread operator (...) to update one element in obj as belows.\r\n    // {...ObjName, key:newValue}\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleShowPassword = () => setShowPassword(!showPassword);\r\n\r\n  const switchMode = () => {\r\n    setIsSignup((prevIsSignup) => !prevIsSignup);\r\n    setShowPassword(false);\r\n  };\r\n\r\n  const googleSuccess = async (res) => {\r\n    // console.log(res);\r\n    // console.log(jwt_decode(res.credential));\r\n    const { name, picture, sub } = jwt_decode(res.credential);\r\n    const user = {\r\n      _id: sub,\r\n      _type: \"user\",\r\n      name: name,\r\n      imageUrl: picture,\r\n      token: res.credential,\r\n    };\r\n\r\n    try {\r\n      dispatch({ type: AUTH, data: user });\r\n      // Redirect to Home page\r\n      history.push(\"/\");\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const googleFailure = (error) => {\r\n    console.log(\"Google Sign In was unsuccessful. Try again later.\");\r\n    console.log(error);\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <Paper className={classes.paper} elevation={3}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography variant=\"h5\" component=\"h1\">\r\n          {isSignup ? \"Sin Up\" : \"Sign In\"}\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={handleSubmit}>\r\n          <Grid container spacing={2}>\r\n            {isSignup && (\r\n              <>\r\n                <Input\r\n                  name=\"firstName\"\r\n                  label=\"First Name\"\r\n                  handleChange={handleChange}\r\n                  autoFocus\r\n                  half\r\n                />\r\n                <Input\r\n                  name=\"lastName\"\r\n                  label=\"Last Name\"\r\n                  handleChange={handleChange}\r\n                  half\r\n                />\r\n              </>\r\n            )}\r\n            <Input\r\n              name=\"email\"\r\n              label=\"Email Address\"\r\n              type=\"email\"\r\n              handleChange={handleChange}\r\n            />\r\n            <Input\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type={showPassword ? \"text\" : \"password\"}\r\n              handleChange={handleChange}\r\n              handleShowPassword={handleShowPassword}\r\n            />\r\n            {isSignup && (\r\n              <Input\r\n                name=\"confirmPassword\"\r\n                label=\"Repeat Password\"\r\n                type=\"password\"\r\n                handleChange={handleChange}\r\n              />\r\n            )}\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            className={classes.submit}\r\n          >\r\n            {isSignup ? \"Sign Up\" : \"Sign In\"}\r\n          </Button>\r\n          <GoogleLogin onSuccess={googleSuccess} onError={googleFailure} />\r\n          <Grid container justifyContent=\"flex-end\">\r\n            <Grid item>\r\n              <Button type=\"button\" onClick={switchMode}>\r\n                {isSignup\r\n                  ? \"Already have an account? Sign In\"\r\n                  : \"Don't have an account? Sign Up\"}\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n  media: {\r\n    borderRadius: \"20px\",\r\n    objectFit: \"cover\",\r\n    width: \"100%\",\r\n    maxHeight: \"600px\",\r\n  },\r\n  card: {\r\n    display: \"flex\",\r\n    width: \"100%\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexWrap: \"wrap\",\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n  section: {\r\n    borderRadius: \"20px\",\r\n    margin: \"10px\",\r\n    flex: 1,\r\n  },\r\n  imageSection: {\r\n    marginLeft: \"20px\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      marginLeft: 0,\r\n    },\r\n  },\r\n  recommendedPosts: {\r\n    display: \"flex\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n  loadingPaper: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    padding: \"20px\",\r\n    borderRadius: \"15px\",\r\n    height: \"39vh\",\r\n  },\r\n  commentsOuterContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n  commentsInnerContainer: {\r\n    height: \"200px\",\r\n    overflowY: \"auto\",\r\n    marginRight: \"30px\",\r\n  },\r\n}));\r\n","import React, { useState, useRef } from \"react\";\r\nimport { Typography, TextField, Button } from \"@material-ui/core\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport useStyles from \"./styles\";\r\nimport { commentPost } from \"../../actions/posts\";\r\n\r\nconst CommentSection = ({ post }) => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const commentsRef = useRef(); // make reference to html element. (for now we use it to scroll down the comment)\r\n\r\n  const [comments, setComments] = useState(post?.comments);\r\n  const [comment, setComment] = useState(\"\");\r\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem(\"profile\")));\r\n\r\n  const handleClick = async () => {\r\n    const finalComment = `${user.name}: ${comment}`;\r\n    const newComments = await dispatch(commentPost(finalComment, post._id));\r\n\r\n    setComments(newComments);\r\n    setComment(\"\");\r\n\r\n    //  scroll down the comment when we add a new comment\r\n    commentsRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className={classes.commentsOuterContainer}>\r\n        <div className={classes.commentsInnerContainer}>\r\n          <Typography gutterBottom variant=\"h6\">\r\n            Comments\r\n          </Typography>\r\n          {comments.map((c, i) => (\r\n            <Typography key={i} gutterBottom variant=\"subtitle1\">\r\n              <strong>{c.split(\": \")[0]}</strong>\r\n              {c.split(\":\")[1]}\r\n            </Typography>\r\n          ))}\r\n          <div ref={commentsRef} />\r\n        </div>\r\n        {user && (\r\n          <div style={{ width: \"70%\" }}>\r\n            <Typography gutterBottom variant=\"h6\">\r\n              Write a Comment\r\n            </Typography>\r\n            <TextField\r\n              fullWidth\r\n              minRows={4}\r\n              variant=\"outlined\"\r\n              label=\"Comment\"\r\n              multiline\r\n              value={comment}\r\n              onChange={(e) => setComment(e.target.value)}\r\n            />\r\n            <Button\r\n              style={{ marginTop: \"10px\" }}\r\n              fullWidth\r\n              disabled={!comment}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={handleClick}\r\n            >\r\n              Comment\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentSection;\r\n","import React, { useEffect } from \"react\";\r\nimport {\r\n  Paper,\r\n  Typography,\r\n  CircularProgress,\r\n  Divider,\r\n} from \"@material-ui/core\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\n\r\nimport CommentSection from \"./CommentSection\";\r\nimport { getPost, getPostBySearch } from \"../../actions/posts\";\r\nimport useStyles from \"./styles\";\r\n\r\nconst PostDetails = () => {\r\n  const { post, posts, isLoading } = useSelector((state) => state.posts);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    dispatch(getPost(id));\r\n  }, [id]);\r\n\r\n  //Fetch recommened post by passing same tag list in current opening post.\r\n  useEffect(() => {\r\n    if (post) {\r\n      dispatch(getPostBySearch({ search: null, tags: post?.tags.join(\",\") }));\r\n    }\r\n  }, [post]);\r\n\r\n  // Avoid render before taking data #IMPORTATN POINT\r\n  if (!post) return null;\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Paper elevation={6} className={classes.loadingPaper}>\r\n        <CircularProgress size=\"7em\" />\r\n      </Paper>\r\n    );\r\n  }\r\n\r\n  // posts exepts current post\r\n  const recommenedPosts = posts.filter(({ _id }) => _id !== post._id);\r\n\r\n  const openPost = (id) => history.push(`/posts/${id}`);\r\n\r\n  return (\r\n    <Paper style={{ padding: \"20px\", borderRadius: \"15px\" }} elevation={6}>\r\n      <div className={classes.card}>\r\n        <div className={classes.section}>\r\n          <Typography variant=\"h3\" component=\"h2\">\r\n            {post.title}\r\n          </Typography>\r\n          <Typography\r\n            gutterBottom\r\n            variant=\"h6\"\r\n            color=\"textSecondary\"\r\n            component=\"h2\"\r\n          >\r\n            {post.tags.map((tag) => `#${tag} `)}\r\n          </Typography>\r\n          <Typography gutterBottom variant=\"body1\" component=\"p\">\r\n            {post.message}\r\n          </Typography>\r\n          <Typography variant=\"h6\">Created by: {post.name}</Typography>\r\n          <Typography variant=\"body1\">\r\n            {moment(post.createdAt).fromNow()}\r\n          </Typography>\r\n          <Divider style={{ margin: \"20px 0\" }} />\r\n          <Typography variant=\"body1\">\r\n            <strong>Realtime Chat - coming soon!</strong>\r\n          </Typography>\r\n          <Divider style={{ margin: \"20px 0\" }} />\r\n          <CommentSection post={post} />\r\n          <Divider style={{ margin: \"20px 0\" }} />\r\n        </div>\r\n        <div className={classes.imageSection}>\r\n          <img\r\n            className={classes.media}\r\n            src={\r\n              post.selectedFile ||\r\n              \"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png\"\r\n            }\r\n            alt={post.title}\r\n          />\r\n        </div>\r\n      </div>\r\n      {recommenedPosts.length && (\r\n        <div className={classes.section}>\r\n          <Typography gutterBottom variant=\"h5\">\r\n            You might also like:\r\n          </Typography>\r\n          <Divider />\r\n          <div className={classes.recommendedPosts}>\r\n            {recommenedPosts.map(\r\n              ({ _id, title, message, name, likes, selectedFile }) => (\r\n                <div\r\n                  style={{ margine: \"20px\", cursor: \"pointer\" }}\r\n                  onClick={() => openPost(_id)}\r\n                  key={_id}\r\n                >\r\n                  <Typography gutterBottom variant=\"h6\">\r\n                    {title}\r\n                  </Typography>\r\n                  <Typography gutterBottom variant=\"subtitle2\">\r\n                    {name}\r\n                  </Typography>\r\n                  <Typography gutterBottom variant=\"subtitle2\">\r\n                    {message}\r\n                  </Typography>\r\n                  <Typography gutterBottom variant=\"subtitle1\">\r\n                    Likes: {likes.length}\r\n                  </Typography>\r\n                  <img src={selectedFile} width=\"200px\" height=\"180px\" />\r\n                </div>\r\n              )\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default PostDetails;\r\n","import React from \"react\";\r\nimport { Container } from \"@material-ui/core\";\r\nimport { BrowserRouter, Switch, Route, Redirect } from \"react-router-dom\";\r\nimport { GoogleOAuthProvider } from \"@react-oauth/google\";\r\n\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport Home from \"./components/Home/Home\";\r\nimport Auth from \"./components/Auth/Auth\";\r\nimport PostDetails from \"./components/PostDetails/PostDetails\";\r\n\r\nconst App = () => {\r\n  const google_client_id =\r\n    \"1031907545601-07e0cnlt2s3slr96mvspima5hagogq26.apps.googleusercontent.com\";\r\n  //Best practice:- clientId={`${process.env.NEXT_PUBLIC_GOOGLE_API_TOKEN}`}\r\n\r\n  const user = JSON.parse(localStorage.getItem(\"profile\"));\r\n\r\n  return (\r\n    <GoogleOAuthProvider clientId={google_client_id}>\r\n      <BrowserRouter>\r\n        <Container maxWidth=\"xl\">\r\n          <Navbar />\r\n          <Switch>\r\n            <Route path=\"/\" exact component={() => <Redirect to=\"/posts\" />} />\r\n            <Route path=\"/posts\" exact component={Home} />\r\n            <Route path=\"/posts/search\" exact component={Home} />\r\n            <Route path=\"/posts/:id\" component={PostDetails} />\r\n            <Route\r\n              path=\"/auth\"\r\n              exact\r\n              component={() => (!user ? <Auth /> : <Redirect to=\"/posts\" />)}\r\n            />\r\n          </Switch>\r\n        </Container>\r\n      </BrowserRouter>\r\n    </GoogleOAuthProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport {\r\n  legacy_createStore as createStore,\r\n  applyMiddleware,\r\n  compose,\r\n} from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport { reducers } from \"./reducers\";\r\n\r\nimport App from \"./App\";\r\nimport \"./index.css\";\r\n\r\n/*\r\nIf you want to use createStore without this visual deprecation warning, use the legacy_createStore import instead:\r\n\r\nimport { legacy_createStore as createStore} from 'redux'\r\n*/\r\n\r\n/*\r\n   *** Cycle of adding new function ***\r\n\r\n  1) (SERVER) add new router and implement it in controller.\r\n  2) (CLIENT)\r\n     2.1) add api req in api/index.js.\r\n     2.2) make actions that consume above api request.\r\n     2.3) make reducer that consume above actions.\r\n     2.4) dispatch that action (impl. in action/index.js) within relevent Component\r\n          < ex. dispatch(actionMethod(params...))  >\r\n\r\n          OR\r\n\r\n         we can use useSelector to get access to redux store\r\n*/\r\n\r\nconst store = createStore(reducers, compose(applyMiddleware(thunk)));\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}